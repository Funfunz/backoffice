(this.webpackJsonpbackoffice=this.webpackJsonpbackoffice||[]).push([[2],{12:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return h}));var c,a,r=n(14),o=n.n(r),i=n(22),s=n(13),u=n(18);function l(){return!!c}function b(){return void 0===a||a}function f(){return j.apply(this,arguments)}function j(){return(j=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,new Promise((function(e){return setTimeout(e)}));case 3:e.next=0;break;case 5:if(void 0!==c){e.next=20;break}return a=!0,e.prev=7,e.next=10,new Promise((function(e){return setTimeout((function(){return e({id:1,email:"joaogsleite@gmail.com"})}),1e3)}));case 10:if(e.t0=e.sent,e.t0){e.next=15;break}return e.next=14,u.a.query({operation:"me",fields:["id"]});case 14:e.t0=e.sent;case 15:c=e.t0;case 16:return e.prev=16,c||(c=null),a=!1,e.finish(16);case 20:if(null!==c){e.next=22;break}throw new Error("No login");case 22:return e.abrupt("return",c);case 23:case"end":return e.stop()}}),e,null,[[7,,16,20]])})))).apply(this,arguments)}function d(){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="".concat(s.a,"/login/oauth");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=void 0,e.next=3,u.a.mutation({operation:"logout"});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},13:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r}));var c="https://funfunz.herokuapp.com",a=Object({NODE_ENV:"production",PUBLIC_URL:"/backoffice",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PUBLIC_URL:"/backoffice",REACT_APP_API_URL:"https://funfunz.herokuapp.com"}).REACT_APP_API_USER,r=Object({NODE_ENV:"production",PUBLIC_URL:"/backoffice",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PUBLIC_URL:"/backoffice",REACT_APP_API_URL:"https://funfunz.herokuapp.com"}).REACT_APP_API_PASS},18:function(e,t,n){"use strict";var c=n(4),a=n(11),r=n(36),o=n(29),i=n(39),s=n(44),u=n(45),l=n(13),b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var c,a=e.status,r=e.statusText,i=e.body;return Object(o.a)(this,n),(c=t.call(this,r)).status=void 0,c.statusText=void 0,c.body=void 0,c.status=a,c.statusText=r,c.body=i,c}return n}(Object(u.a)(Error)),f=new(function(){function e(){Object(o.a)(this,e),this.baseUrl=l.a,this.defaultOptions={headers:{Accept:"application/json","Content-Type":"application/json"}}}return Object(r.a)(e,[{key:"request",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.startsWith("http")?t:"".concat(this.baseUrl).concat(t),o=Object(c.a)(Object(c.a)(Object(c.a)({},this.defaultOptions),n),{},{method:e,body:n.body});return l.c&&l.b&&(o.headers.Authorization="Basic ".concat(btoa("".concat(l.c,":").concat(l.b)))),fetch(r,o).then((function(e){return Promise.all([e,e.json()])})).then((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1];if(!n.ok)throw console.log(n,c),new b({status:n.status,statusText:n.statusText,body:c});return c}))}},{key:"get",value:function(e,t){return this.request("GET",e,t)}},{key:"post",value:function(e,t){return this.request("POST",e,t)}},{key:"put",value:function(e,t,n){return this.request("PUT",e,n)}},{key:"delete",value:function(e,t){return this.request("DELETE",e,t)}}]),e}());function j(e){return null!==e&&void 0!==e&&"number"===typeof e.lastModified&&"string"===typeof e.name&&"number"===typeof e.size&&"string"===typeof e.type}function d(e){return Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?"".concat(t,": [").concat(n.map((function(e){return"string"===typeof e?'"'.concat(e,'"'):"boolean"===typeof e||"number"===typeof e||"undefined"===typeof e?"".concat(e):j(e)?"$".concat(t):"{".concat(d(e),"}")})).join(","),"]"):"string"===typeof n?"".concat(t,': "').concat(n,'"'):"boolean"===typeof n||"number"===typeof n||"undefined"===typeof n?"".concat(t,": ").concat(n):j(n)?"".concat(t,": $").concat(t):Object.keys(n).length?"".concat(t,": {").concat(d(n),"}"):void 0})).filter((function(e){return void 0!==e})).join(", ")}function O(e){var t={},n={};return Array.isArray(e)||(e=[{args:e}]),e.forEach((function(e){var a=e.args;a&&Object.keys(a).forEach((function(e){var r=a[e];if(Array.isArray(r))r.filter((function(e){return j(e)})).forEach((function(){t[e]="Upload"}));else if(j(r))t[e]="Upload",n[e]=r;else if("object"===typeof r){var o=O(a[e]),i=o.typings,s=o.variables;t=Object(c.a)(Object(c.a)({},t),i),n=Object(c.a)(Object(c.a)({},n),s)}}))})),{typings:t,variables:n}}function h(e){return"string"===typeof e?e:Array.isArray(e)?e.reduce((function(e,t){return"".concat(e,"\n          ").concat(h(t),"\n        ")}),""):Object.keys(e).reduce((function(t,n){return"".concat(t,"\n          ").concat(n," {\n            ").concat(h(e[n]),"\n          }\n        ")}),"")}function p(e){var t=[],n={};return Object.keys(e).forEach((function(c,a){t.push(e[c]),n["".concat(a)]=["variables.".concat(c)]})),{fields:t,map:n}}function m(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"query";Array.isArray(e)||(t=e.operation,e=[e]);var c,a,r=O(e),o=r.typings,i=r.variables,s="".concat(n," ").concat(Object.keys(o).length?"(".concat(Object.keys(o).map((function(e){return"$".concat(e,": ").concat(o[e])})).join(", "),")"):""," {\n    ").concat(e.map((function(e){var t=e.args&&d(e.args);return"\n      ".concat(e.operation," ").concat(t?"(".concat(t,")"):""," ").concat(e.fields?"{\n        ".concat(h(e.fields),"\n      }"):"","\n    ")})).join(""),"\n  }");if(Object.keys(o).length){(c=new FormData).append("operations",JSON.stringify({query:s}));var u=p(i),l=u.map,b=u.fields;c.append("map",JSON.stringify(l)),b.forEach((function(e,t){return c.append("".concat(t),e)})),a=void 0}else c=JSON.stringify({query:s}),a="application/json";return f.post("/graphql?",{body:c,headers:a?{"Content-Type":a}:{}}).then((function(e){if(e.error)throw e.error;return e.data&&(t?e.data[t]:e.data)})).catch((function(e){var t,n,c,a,r;throw(null===e||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.errors)||void 0===n||null===(c=n[0])||void 0===c?void 0:c.message)||(null===e||void 0===e||null===(a=e.body)||void 0===a||null===(r=a.error)||void 0===r?void 0:r.message)||e}))}var v={query:m,mutation:function(e){return m(e,"mutation")}};t.a=v},24:function(e,t,n){e.exports={topMenu:"style_topMenu__KHyDx",account:"style_account__Pk75o",accountOptions:"style_accountOptions__2CfcM"}},25:function(e,t,n){e.exports={container:"style_container__3NuWR",main:"style_main__3CeqX",children:"style_children__2mf42"}},32:function(e,t,n){e.exports={hamburgerCheckbox:"style_hamburgerCheckbox__3WbyV",hamburgerButton:"style_hamburgerButton__3SJOa"}},34:function(e,t,n){"use strict";var c=n(1),a=n(0),r=n(40),o=n.n(r),i=function(e){var t=e.success,n=e.error,a=e.loading,r=e.text,i=e.icon;return Object(c.jsxs)("div",{className:o.a.message,children:[a&&Object(c.jsx)("i",{className:"fa fa-3x fa-spinner fa-pulse"}),n&&Object(c.jsx)("i",{className:"fas fa-3x fa-exclamation-circle"}),t&&Object(c.jsx)("i",{className:"fas fa-3x fa-check"}),i&&Object(c.jsx)("i",{className:"fas fa-3x fa-"+i}),r&&Object(c.jsx)("div",{style:{marginTop:25},children:r})]})};t.a=Object(a.memo)(i)},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var c=n(0),a=n(16),r=n(18);function o(){return r.a.query({operation:"entities",fields:["name","backoffice"]}).then((function(e){if(e&&e.length>0)return e.map((function(e){var t;return{name:e.name,label:(null===(t=e.backoffice)||void 0===t?void 0:t.label)||e.name}}));throw new Error("No entities found")}))}var i,s=[];function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(c.useEffect)((function(){0!==s.length||i||(i=!0,o().then((function(e){s=e,i=!1,Object(a.a)("entities")})))}),[]),Object(a.b)("entities"),{entities:s.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})),loading:void 0===i||i}}},40:function(e,t,n){e.exports={message:"style_message__13NtC"}},42:function(e,t,n){e.exports={logo:"style_logo__12Bkb"}},43:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n(33),o=n.n(r),i=n(9),s=n(2),u=function(e){e&&e instanceof Function&&n.e(11).then(n.bind(null,125)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))},l=n(4),b=n(46),f=n(16),j=n(12),d=n(34);function O(e,t,n){return function(a){if(Object(j.b)())return e?Object(c.jsx)(e,Object(l.a)({},a)):t?t(a):null;if(Object(j.c)())return Object(c.jsx)(d.a,{loading:!0});var r={pathname:"/login",search:"?redirect=".concat(n)};return Object(c.jsx)(s.a,{to:r})}}var h=function(e){var t=e.component,n=e.render,r=Object(b.a)(e,["component","render"]),o=Object(s.g)();return Object(f.b)("PrivateRoute"),Object(a.useEffect)((function(){Object(j.b)()||Object(j.a)().catch(console.log).then((function(){Object(f.a)("PrivateRoute")}))}),[]),Object(c.jsx)(s.b,Object(l.a)(Object(l.a)({},r),{},{render:O(t,n,o.pathname)}))},p=n(10),m=n(21),v=n.n(m),y=n(11),x=n(24),_=n.n(x),g=function(){var e=Object(a.useState)(),t=Object(y.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!1),s=Object(y.a)(o,2),u=s[0],l=s[1],b=Object(a.useCallback)((function(){l(!u)}),[u]);return Object(a.useEffect)((function(){Object(j.a)().then(r)}),[]),Object(c.jsxs)("nav",{className:_.a.topMenu,role:"navigation","aria-label":"main navigation",children:[Object(c.jsxs)("div",{className:_.a.account,onClick:function(){return b()},children:[Object(c.jsx)("span",{children:null===n||void 0===n?void 0:n.email}),u?Object(c.jsx)("i",{className:"fas fa-chevron-right"}):Object(c.jsx)("i",{className:"fas fa-chevron-down"})]}),u&&Object(c.jsx)("div",{className:_.a.accountOptions,children:Object(c.jsxs)(i.b,{to:"/logout",children:[Object(c.jsx)("span",{children:"logout"}),Object(c.jsx)("i",{className:"fas fa-power-off"})]})})]})},k=Object(a.memo)(g),N=n(25),C=n.n(N),E=n(32),S=n.n(E),P=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("input",{className:S.a.hamburgerCheckbox,id:"hamburger",type:"checkbox"}),Object(c.jsx)("label",{htmlFor:"hamburger",className:S.a.hamburgerButton,children:Object(c.jsx)("i",{className:"fa fa-bars"})})]})},A=Object(a.memo)(P),T=n.p+"static/media/logo_placeholder.4f370933.svg",w=n(42),L=n.n(w),R=function(){return Object(c.jsx)(i.b,{to:"/",className:L.a.logo,children:Object(c.jsx)("img",{src:T,alt:"logo"})})},U=Object(a.memo)(R),q=n(38),D=n(8),F=n.n(D),z=function(e){var t=e.isSearchable,n=void 0===t||t,r=e.visible,o=void 0===r?10:r,s=Object(a.useState)(""),u=Object(y.a)(s,2),l=u[0],b=u[1],f=Object(a.useCallback)((function(e){return b(e.target.value)}),[]),j=Object(q.a)(l),d=j.loading,O=j.entities,h=Object(a.useState)(o),p=Object(y.a)(h,2),m=p[0],v=p[1],x=Object(a.useCallback)((function(){return v(O.length)}),[O.length]),_=Object(a.useCallback)((function(){return v(o)}),[o]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("aside",{className:F.a.sideMenuSpace}),Object(c.jsxs)("aside",{className:F.a.sideMenu,children:[Object(c.jsxs)("div",{className:F.a.container,children:[Object(c.jsx)("p",{className:F.a.menuLabel,children:"Content Types"}),n&&Object(c.jsxs)("div",{className:F.a.search,children:[Object(c.jsx)("input",{type:"text",placeholder:"SEARCH",name:"search",autoComplete:"off",value:l,onChange:f}),Object(c.jsx)("i",{className:"fa fa-search"})]}),Object(c.jsx)("ul",{className:F.a.menuList,children:d?Object(c.jsx)("p",{className:F.a.loading,children:"Loading..."}):O.slice(0,l?O.length:m).map((function(e,t){return Object(c.jsx)(i.c,{to:"/list/".concat(e.name),activeClassName:F.a.active,children:e.label},t)}))}),m&&!l&&(m<O.length?Object(c.jsx)("button",{className:F.a.load,onClick:x,children:"Show more"}):O.length>o&&Object(c.jsx)("button",{className:F.a.load,onClick:_,children:"Show less"}))]}),Object(c.jsxs)("div",{className:F.a.account,children:[Object(c.jsx)("span",{children:"example2@gmail.com"}),Object(c.jsx)("i",{className:"fas fa-power-off"})]})]})]})},B=Object(a.memo)(z),M=function(e){var t,n=e.children,a=e.className,r=void 0===a?"":a,o=v()((t={},Object(p.a)(t,C.a.container,!0),Object(p.a)(t,r,r),t));return Object(c.jsxs)("div",{className:o,children:[Object(c.jsx)(A,{}),Object(c.jsx)(U,{}),Object(c.jsx)(B,{}),Object(c.jsx)(k,{}),Object(c.jsx)("div",{className:C.a.main,children:Object(c.jsx)("div",{className:C.a.children,children:n})})]})},I=Object(a.memo)((function(e){var t=Array.isArray(e.children)?e.children.map((function(e){return e.props.path})):e.children.props.path;return Object(c.jsx)(s.b,{exact:!0,path:t,render:function(){return Object(c.jsx)(M,Object(l.a)({},e))}})})),H=n(43),W=n.n(H),K=function(e){var t,n=e.children,a=void 0===n?null:n,r=e.className,o=void 0===r?"":r,i=v()((t={},Object(p.a)(t,W.a.loadingContainer,!0),Object(p.a)(t,o,o),t));return Object(c.jsxs)("div",{className:i,children:[a,"Loading..."]})},J=Object(a.memo)(K),V=(n(58),Object(a.lazy)((function(){return n.e(6).then(n.bind(null,127))}))),X=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.bind(null,126))})),$=Object(a.lazy)((function(){return n.e(8).then(n.bind(null,121))})),G=Object(a.lazy)((function(){return n.e(9).then(n.bind(null,122))})),Q=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(7)]).then(n.bind(null,123))})),Y=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,124))})),Z=function(){return Object(c.jsx)(i.a,{children:Object(c.jsxs)(a.Suspense,{fallback:Object(c.jsx)(J,{}),children:[Object(c.jsx)(s.b,{exact:!0,path:"/playground",component:Y}),Object(c.jsx)(s.b,{exact:!0,path:"/login",component:$}),Object(c.jsxs)(I,{children:[Object(c.jsx)(h,{exact:!0,path:"/",component:V}),Object(c.jsx)(h,{exact:!0,path:"/list/:entityName",component:X}),Object(c.jsx)(h,{path:"/:view(edit|new|view)/:entityName/:id?",component:Q}),Object(c.jsx)(h,{exact:!0,path:"/logout",component:G})]})]})})};o.a.render(Object(c.jsx)(Z,{}),document.getElementById("root")),u()},8:function(e,t,n){e.exports={brandContainer:"style_brandContainer__3HoOF",sideMenuSpace:"style_sideMenuSpace__2sM02",sideMenu:"style_sideMenu__1oNGe",container:"style_container__2uO6v",load:"style_load__1j-po",account:"style_account__2Vz4D",menuLabel:"style_menuLabel__2KHXU",search:"style_search__17BSO",menuList:"style_menuList__2JtXA",active:"style_active__3di2v",loading:"style_loading__3EcIE"}}},[[59,3,4]]]);
//# sourceMappingURL=main.c3f022cf.chunk.js.map